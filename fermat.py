import sys

def isqrt(n):
    # Newton's sqrt
    x = n
    y = (x + 1) // 2
    while y < x:
        x = y
        y = (x + n // x) // 2
    return x

def factorise(n):
    # Fermat's factorization
    a = isqrt(n)
    b2 = a**2 - n
    b = isqrt(b2)
    while b*b != b2:
        a += 1
        b2 = a**2 - n
        b = isqrt(b2)
    p = a + b
    q = a - b
    return a, b, p, q


if __name__ == "__main__":
    n = sys.argv[1]
    # n = 234100602537517236365838484169409528618425373742716122368555267162721282486259860011744589245319050970277719848307314224926644812003233388064231755859352145698057690099735813254870528290275415262043025988755832099934154809641620122595897430788218811464621652632122050526448233689488244647463554593020570808298686406741358151368733180716564337233002534789893265860554190994739780009457085264004998851700106119628625830506321890069224294415030048775769731233886353828129871017038672212856457351719150326543768677470826668243710284054599893620371357489062515455336663431798432564969066492487911267301258030395729609807
    a, b, p, q = factorise(n)
    print("a =", a)
    print("b =", b)    
    print("p =", p)
    print("q =", q)
